
<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="utf-8" />
        <title>Implementierungsleitfaden ISiK-Sicherheit - Rechtedelegation und Client-Authentifizierung</title>

        <link rel="icon" href="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/common/favicon.ico" />

        <script src="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/common/jquery/jquery.min.js"></script>
        <script src="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/common/bootstrap/bootstrap.min.js"></script>

        <link rel="stylesheet" href="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/common/main.min.css" />
        <link rel="stylesheet" href="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/common/bootstrap/bootstrap.min.css" />
        <link rel="stylesheet" href="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/common/rendering/rendering.min.css" />

        <script src="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/common/rendering/stu3TreeTable.min.js"></script>
        <script src="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/common/rendering/baseTreetable.min.js"></script>

        <link rel="stylesheet" href="guide/ImplementierungsleitfadenISiK-Sicherheit/files/styles/twolevelmenu/style.css?v=1d8112c52093900" />

    </head>

    <body>

        <div id="ig-viewer">

            <div class="ig-view-content">

                <div id="ig-view-twolevelmenu">

                    <div class="header" role="banner" aria-label="Header">
                        


<nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="Einfuehrung.html">
                Implementierungsleitfaden ISiK-Sicherheit - Rechtedelegation und Client-Authentifizierung
            </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">


                    <li>
                        <a href="Einfuehrung.html">
                            Einf&#xFC;hrung
                        </a>
                    </li>

                        <li>
                            <a href="Motivation.html">
                                Motivation
                            </a>
                        </li>
                        <li class="dropdown">

                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                &#xDC;bergreifende Festlegungen <span class="caret"></span>
                            </a>

                            <ul class="dropdown-menu">

                                    <li>
                                        <a href="UebergreifendeFestlegungen.html">
                                            &#xDC;bergreifende Festlegungen
                                        </a>
                                    </li>
                                    <li role="separator" class="divider"></li>

                                    <li>
                                        <a href="Methodik.html">
                                            Methodik
                                        </a>
                                    </li>
                                    <li>
                                        <a href="BestaetigungsrelevanteSysteme.html">
                                            Best&#xE4;tigungsrelevante Systeme
                                        </a>
                                    </li>
                                    <li>
                                        <a href="KompatibilitaetDerGematikSpezifikation.html">
                                            Kompatibilit&#xE4;t der gematik-Spezifikation
                                        </a>
                                    </li>

                            </ul>
                        </li>
                        <li class="dropdown">

                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                Smart App Launch <span class="caret"></span>
                            </a>

                            <ul class="dropdown-menu">

                                    <li>
                                        <a href="SmartAppLaunch.html">
                                            Smart App Launch
                                        </a>
                                    </li>
                                    <li role="separator" class="divider"></li>

                                    <li>
                                        <a href="Schritt1RegistierungClient.html">
                                            Schritt 1 - Registrierung Client
                                        </a>
                                    </li>
                                    <li>
                                        <a href="Schritt2ClientAutorisierung.html">
                                            Schritt 2 - Client Autorisierung
                                        </a>
                                    </li>
                                    <li>
                                        <a href="Schritt3EvaluierungAutorisierungsanfrage.html">
                                            Schritt 3 - Evaluierung Autorisierungsanfrage
                                        </a>
                                    </li>
                                    <li>
                                        <a href="Schritt4AustauschAutorisierungscodesZugangstoken.html">
                                            Schritt 4 - Austausch - Autorisierungscodes Zugangstoken
                                        </a>
                                    </li>
                                    <li>
                                        <a href="Schritt5FhirRestInteraktion.html">
                                            Schritt 5 - FHIR Restful Interaktion
                                        </a>
                                    </li>
                                    <li>
                                        <a href="Schritt6RefreshToken.html">
                                            Schritt 6 - Refresh Token &amp; Revocation
                                        </a>
                                    </li>

                            </ul>
                        </li>
                        <li>
                            <a href="ScopesAndLaunchContext.html">
                                Scopes &amp; Launch Context
                            </a>
                        </li>
                        <li>
                            <a href="Conformance.html">
                                Conformance
                            </a>
                        </li>

            </ul>
        </div>
    </div>
</nav>

                    </div>

                    <div class="content container" role="main" aria-label="Main content">
                        

    <div class="row">


        <div class="col-md-24">

            <div id="preview-content">

                <h1 id="scope-syntax">Scope-Syntax</h1>
<p>SMART on FHIR Access Scopes lassen sich in drei Bereiche kategorisieren, welche sich darin unterscheiden auf wie der zum Autorisierungssystem zugehörige Ressourcenserver entscheiden muss ob eine Restful Interaktion erlaubt ist oder abgewiesen werden muss. Clients können folgende Arten von Scopes anfragen:</p>
<ul>
<li><a href="https://hl7.org/fhir/smart-app-launch/STU2/scopes-and-launch-context.html#patient-specific-scopes">&quot;patient&quot;-Level Scopes</a>: Alle FHIR Restful Interaktionen werden eingeschränkt auf den Zugriff auf ein bestimmte Instanz einer Patient-Ressource, sowie damit verknüpfte Ressourcen. Eine Zusammengehörigkeit von Ressourcen KANN mittels des <a href="http://www.hl7.org/fhir/compartmentdefinition-patient.html">FHIR-Patient-Compartments</a> evaluiert werden. Es MÜSSEN jedoch mindestens die dort aufgelisteten Relationen unterstüzt werden. Weitere für Patienten-unabhänige Ressource, welche für den Kontext relevant sein können, SOLLTEN ebenfalls mittels eines entsprechenden Scope herausgegeben werden, z.B. &quot;Practitioner&quot;- oder &quot;Organisation&quot;-Ressourcen.</li>
<li><a href="https://hl7.org/fhir/smart-app-launch/STU2/scopes-and-launch-context.html#user-level-scopes">&quot;user&quot;-Level Scopes</a>: Alle FHIR Restful Interaktionen werden eingeschränkt auf den Zugriff auf Ressourcen-Instanzen die sichtbar sind für ein bestimmte Benutzer*in.</li>
<li><a href="https://hl7.org/fhir/smart-app-launch/STU2/scopes-and-launch-context.html#system-level-scopes">&quot;system&quot;-Level Scopes</a>: Alle FHIR Restful Interaktionen werden eingeschränkt auf den Zugriff auf Ressourcen-Instanzen die sichtbar sind für einen bestimmten (technischen) Client, unabhängig davon welcher Benutzer hiermit interagiert.</li>
</ul>
<p>Alle oben genannten Arten von Scopes müssen durch den Autorisierungsserver unterstüzt werden in der Anfrage eines Tokens. Inbesondere mittels &quot;system&quot;-Level Scopes MUSS ein Vollzugriff auf den Ressourcen-Server erlaubt werden, soweit für den keine weiteren Einschränkungen in der Sichtbarkeit von Inhalten konfiguriert. Bestätigungsrelevante Systeme MÜSSEN die Option anbieten einen Vollzugriff zu erlauben.</p>
<p>Die &quot;Clinical Scope Syntax&quot; MUSS durch einen Autorisierungsserver vollständig unterstüzt werden, in Abhängigkeit davon welche Interaktionen auf dem dazugehörigen Ressourcen-Server erlaubt sind:</p>
<ul>
<li>Alle unterstützten Create, Update, Delete, Read, Search-Interaktionen MÜSSEN als Teil eines Scopes unterstützt werden</li>
<li>Alle unterstützten Ressourcen-Typen MÜSSEN als Teil eines Scopes unterstützt werden</li>
<li>Alle unterstützten Suchparameter inkl. Modifier und Kombinationsmöglichkeiten MÜSSEN als Teil eines Scopes unterstützt werden</li>
</ul>
<p>Die Möglichkeit von <a href="https://hl7.org/fhir/smart-app-launch/STU2/scopes-and-launch-context.html#wildcard-scopes">Wildcard-Scopes</a> MUSS unterstützt werden.</p>
<h1 id="launch-context">Launch-Context</h1>
<p>Clients können über die zurvor beschriebenen Access-Scopes hinaus sogenannte Launch-Context-Scopes beim Autorisierungsserver anfordern. Launch Claims werden nicht als Teil des Access-Tokens, sondern als Teil des JSON-Dokumentes als Antwort auf die Anfrage eines Access-Tokens zurückgeliefert. Diese Claims enthalten entweder spezifische IDs oder URIs die FHIR-Referenzen abbilden, um kontext-relevante Informationen vorab zu übermitteln, sodass der Client entsprechend einen &quot;Einstiegspunkt&quot; in das System erhält.</p>
<p>Launch-Scopes besitzen die Syntax <code>launch/&lt;resourcen-typ&gt;</code>. Der &quot;<resourcen-typ>&quot; Teil des Scopes ist case-senstive und MUSS kleingeschrieben werden. Der Autorisierungsserver MUSS einen Patienten- (launch/patient) und Fallkontext (launch/encounter) herstellen können. Weitere Kontexte KÖNNEN durch den Autorisierungsserver etabliert werden - <a href="https://hl7.org/fhir/smart-app-launch/STU2/scopes-and-launch-context.html#fhircontext">vgl. SMART App Launch - 3.0.3.3.1 - fhirContext</a>.</p>
<p>Die Kontextinformationen sind durch den Autorisierungsserver beim Ressourcen-Server anzufordern. Als Implementierungsunterstützung können die Informationen durch den &quot;launch&quot;-Parameter, welcher während durch einen EHR-Launch ausgetauscht wurde, abgeleitet werden. Im Falle eines Standalone Launch können die Informationen manuell durch die Benutzer*in ausgewählt werden oder durch sonstige geeignete Maßnahmen bestimmt werden. Hierzu bestehen seitens der Spezifikation keine Vorgaben.</p>
<p>Die Vorgaben zur Kodierung der <a href="https://hl7.org/fhir/smart-app-launch/STU2/scopes-and-launch-context.html#launch-context-arrives-with-your-access_token">Patient-, Encounter- und fhirContext- Claims</a> MÜSSEN implementiert werden.</p>



            </div>

        </div>
    </div>

                    </div>

                </div>

            </div>

            <div class="ig-view-footer" role="contentinfo" aria-label="Footer">
                
<div class="container">
    <div class="row">
        <p>Powered by <b>SIMPLIFIER.NET</b></p>
        <div>
            HL7<sup>&reg;</sup> and FHIR<sup>&reg;</sup> are the registered trademarks of Health Level Seven International
        </div>
    </div>
</div>

            </div>

        </div>

    </body>

</html>